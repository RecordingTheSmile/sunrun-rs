<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>主页</title>
  <!-- 依 赖 样 式 -->
  <link rel="stylesheet" href="/component/pear/css/pear.css" />
  <!-- 加 载 样 式 -->
  <link rel="stylesheet" href="/admin/css/loader.css" />
  <!-- 布 局 样 式 -->
  <link rel="stylesheet" href="/admin/css/admin.css" />


  <script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery/3.6.0/jquery.min.js" type="application/javascript"></script>
</head>
<!-- 结 构 代 码 -->
<body class="layui-layout-body pear-admin">
<!-- 布 局 框 架 -->
<div class="layui-layout layui-layout-admin">
  <!-- 顶 部 样 式 -->
  <div class="layui-header">
    <!-- 菜 单 顶 部 -->
    <div class="layui-logo">
      <!-- 图 标 -->
      <img class="logo">
      <!-- 标 题 -->
      <span class="title"></span>
    </div>
    <!-- 顶 部 左 侧 功 能 -->
    <ul class="layui-nav layui-layout-left">
      <li class="collapse layui-nav-item"><a href="#" class="layui-icon layui-icon-shrink-right"></a></li>
      <li class="refresh layui-nav-item"><a href="#" class="layui-icon layui-icon-refresh-1" loading=600></a></li>
    </ul>
    <!-- 多 系 统 菜 单 -->
    <div id="control" class="layui-layout-control"></div>
    <!-- 顶 部 右 侧 菜 单 -->
    <ul class="layui-nav layui-layout-right">
      <li class="layui-nav-item layui-hide-xs"><a href="#" class="fullScreen layui-icon layui-icon-screen-full"></a></li>
      <li class="layui-nav-item user">
        <!-- 头 像 -->
        <a class="layui-icon layui-icon-username" href="javascript:;"></a>
        <!-- 功 能 菜 单 -->
        <dl class="layui-nav-child">
          <dd><a href="javascript:void(0);" id="changeUsername">修改用户名</a></dd>
          <dd><a href="javascript:void(0);" id="changePassword">修改密码</a></dd>
          <dd><a href="javascript:void(0);" id="changeEmail">修改邮箱</a></dd>
          <dd><a href="javascript:void(0);" class="logout">注销登录</a></dd>
        </dl>
      </li>
      <!-- 主 题 配 置 -->
      <li class="layui-nav-item setting"><a href="#" class="layui-icon layui-icon-more-vertical"></a></li>
    </ul>
  </div>
  <!-- 侧 边 区 域 -->
  <div class="layui-side layui-bg-black">
    <!-- 菜 单 顶 部 -->
    <div class="layui-logo">
      <!-- 图 标 -->
      <img class="logo">
      <!-- 标 题 -->
      <span class="title"></span>
    </div>
    <!-- 菜 单 内 容 -->
    <div class="layui-side-scroll">
      <div id="sideMenu"></div>
    </div>
  </div>
  <!-- 视 图 页 面 -->
  <div class="layui-body">
    <!-- 内 容 页 面 -->
    <div id="content"></div>
  </div>
  <!-- 页脚 -->
  <div class="layui-footer layui-text">
    <span class="center"></span>
    <span class="right">
                Copyright &copy; 2022-现在 阳光小助手
            </span>
  </div>
  <!-- 遮 盖 层 -->
  <div class="pear-cover"></div>
  <!-- 加 载 动 画 -->
  <div class="loader-main">
    <!-- 动 画 对 象 -->
    <div class="loader"></div>
  </div>
</div>
<!-- 移 动 端 便 捷 操 作 -->
<div class="pear-collapsed-pe collapse">
  <a href="#" class="layui-icon layui-icon-shrink-right"></a>
</div>
<!-- 依 赖 脚 本 -->
<script src="/component/layui/layui.js"></script>
<script src="/component/pear/pear.js"></script>
<!-- 框 架 初 始 化 -->
<script>layui.use(['admin','popup','common','layer'], function() {
  var admin = layui.admin;
  var popup = layui.popup;
  let layer = layui.layer;
  let common=layui.common

  admin.setConfigType("json");
  admin.setConfigPath("/config/config.json");

  admin.render();

  // 登出逻辑
  admin.logout(function(){

    window.location.href='/console/exitLogin'
    // 注销逻辑 返回 true / false
    return true;
  })

  $('#changeUsername').click(() => {
    layer.open({
      type: 2,
      title: '修改用户名',
      shade: 0.1,
      area: [common.isModile() ? '100%' : '500px', common.isModile() ? '100%' : '400px'],
      content: '/console/iframes/editUsername'
    });
  })

  $('#changePassword').click(() => {
    layer.open({
      type: 2,
      title: '修改密码',
      shade: 0.1,
      area: [common.isModile() ? '100%' : '500px', common.isModile() ? '100%' : '400px'],
      content: '/console/iframes/editPassword'
    });
  })

  $('#changeEmail').click(() => {
    layer.open({
      type: 2,
      title: '修改邮箱',
      shade: 0.1,
      area: [common.isModile() ? '100%' : '500px', common.isModile() ? '100%' : '400px'],
      content: '/console/iframes/editEmail'
    });
  })
})</script>
</body>
</html>